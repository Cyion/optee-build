#
# script for Samsung S5P4418, a quad ARM Cortex-A9 chip
#

if { [info exists CHIPNAME] } {
	set _CHIPNAME $CHIPNAME
} else {
	set _CHIPNAME s5p4418
}

if { [info exists CPUTAPID] } {
	set _CPUTAPID $CPUTAPID
} else {
	set _CPUTAPID 0x4ba00477
}

jtag newtap $_CHIPNAME cpu -irlen 4 -expected-id $_CPUTAPID
# newtap will create a Test Access Port with name :
set _TARGETNAME $_CHIPNAME.cpu

# Quad Cortex-A9
target create ${_TARGETNAME}0 cortex_a -chain-position $_TARGETNAME -coreid 0
target create ${_TARGETNAME}1 cortex_a -chain-position $_TARGETNAME -coreid 1
target create ${_TARGETNAME}2 cortex_a -chain-position $_TARGETNAME -coreid 2
target create ${_TARGETNAME}3 cortex_a -chain-position $_TARGETNAME -coreid 3

target smp ${_TARGETNAME}0 ${_TARGETNAME}1 ${_TARGETNAME}2 ${_TARGETNAME}3

${_TARGETNAME}0 configure -event gdb-attach {
	cortex_a dbginit
}
${_TARGETNAME}1 configure -event gdb-attach {
	cortex_a dbginit
}
${_TARGETNAME}2 configure -event gdb-attach {
	cortex_a dbginit
}
${_TARGETNAME}3 configure -event gdb-attach {
	cortex_a dbginit
}
